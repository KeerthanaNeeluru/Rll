<h2>Your Cart</h2>

<div class="content">
  <div  class="container" >
    <div *ngIf="cartItems.length > 0">
      <br>
      <div   >
        <h4>Total : Rs.{{ getTotalCost() }}/-</h4>
      </div>
      <button class="btn btn-outline-primary" (click)="initNewBill()">Proceed To CheckOut</button>
      <br>
      <app-billing  [bills]="heretoEdit" (billadded)="updateBill($event)"></app-billing> 
 
       </div>
     
       <app-orders></app-orders>
       
            
<!-- <div class="row">
  <div class="col-lg-3 col-md-4 col-sm-6 mb-4" *ngFor="let b in bill">
    <div class="card h-100 border-0 shadow" style="background-color: #f8f9fa;">
      <div class="card-body d-flex flex-column">
        
        <div class="mt-auto">
          <h5 class="card-title text-center">{{b.Address}}</h5>
          <p class="card-text text-center">{{b.Pincode}}</p>
          <p class="card-text text-center"><span>{{b.PhoneNumber}}</span></p>
          <td><button class="btn btn-outline-primary" (click)="editBill(b)">Edit</button></td>
          
        </div>
      </div>
    </div>
  </div>
</div> -->
<!-- <table class="table table-hover">

  <tbody>
    <tr *ngFor="let b in bill ">
   
   <td class="text-center">{{b.Address}}</td>
   <td>{{b.Pincode}}</td>
   <td>{{b.PhoneNumber}}</td>
   
   <td><button class="btn btn-outline-primary" (click)="editBill(b)">Edit</button></td>
    </tr>
  
  </tbody>
</table>           -->
<div class="row">
  <div class="col-lg-3 col-md-4 col-sm-6 mb-4" *ngFor="let b in bill">
    <div class="card h-100 border-0 shadow" style="background-color: #f8f9fa;">
      <div class="card-body d-flex flex-column">
        
        <div class="mt-auto">
          <h5 class="card-title text-center">{{b.Address}}</h5>
          <p class="card-text text-center">{{b.Pincode}}</p>
          <p class="card-text text-center"><span>{{b.PhoneNumber}}</span></p>
          <td><button class="btn btn-outline-primary" (click)="editBill(b)">Edit</button></td>
          
        </div>
      </div>
    </div>
  </div>
</div>
    </div>
<div *ngIf="cartItems.length > 0; else emptyCart">
<div class="card mb-3" style="width: 100%;">
    <div class="row no-gutters" *ngFor="let item of cartItems ">
      <div class="col-md-4"  >
        <img [src]="item.productUrl" alt="Product Image" class="card-img-top" />
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title ">{{ item.productName }}</h5>
            <p class="card-text ">{{ item.productDescription }}</p>
            <p class="card-text "><b>Rs.{{ item.productPrice }}/-</b></p>
            <div class="form-group ">
              <label for="quantity">Quantity:</label>
              <input type="number" class="form-control" id="quantity" [(ngModel)]="item.quantity" min="1">
            </div><br />
            <div class="text-center">
              <p class="card-text"><b>Price : Rs.{{ item.productPrice * (item.quantity || 1) }}/-</b></p>
            </div>

            <button class="btn btn-outline-danger" (click)="removeFromCart(item)">Remove From Cart</button>
        </div>
      </div>
    </div>
  </div>
</div>

</div>








<ng-template #emptyCart>
  <div class="text-center">
    <p>Your cart is empty.</p>
  </div>
</ng-template>


